<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
         .area {
        height : 100px;
        background : lightgray;
        border : 1px solid black;
    }
    </style>
</head>
<body>
    <h1>객체 관련 키워드</h1>
    <h3>instanceof 키워드</h3>
    <p>해당 객체가 어떠한 함수를 통해 생성되었는지 확인할 때 쓴다.</p>
    <button onclick="test1();">실행확인</button>
    <div id="area1" class="area"></div>
    <script>
        function Dog(name){
           this.name = name;
        }

        function test1(){
            var myDog = new Dog('뎅이');

            var yourDog = {name : '양양'};

            var area1 = document.getElementById("area1");

            area1.innerHTML += "myDog instanceof Dog : " + (myDog instanceof Dog) + "<br>";
            area1.innerHTML += "yourDog instanceof Dog : " + (yourDog instanceof Dog) + "<br>";
            area1.innerHTML += "myDog instanceof 'Number' : " + (myDog instanceof Number) + "<br>";
            area1.innerHTML += "myDog instanceof String : " + (myDog instanceof Number) + "<br>";
            area1.innerHTML += "myDog instanceof Boolean : " + (myDog instanceof Number) + "<br>";
        }
    </script>

    <hr>

    <h3>new 키워드</h3>
    <button onclick="test2();">new 확인하기</button>
    <div id="area2" class="area"></div>
    <script>
        function Duck(firstName, lastName){
            this.firstName = firstName;
            this.lastName = lastName;
        }

        function test2(){
            // new로 만들면 지역변수가 됨
            var duck1 = new Duck("Mc", "Donald");
            console.log(duck1);

            var area2 = document.getElementById("area2");

            area2.innerHTML += "첫 번째 오리의 full name은 " + duck1.firstName + duck1.lastName + "입니다. 꽥꽥!<br>";

            // new를 사용하지 않아도 에러는 발생하지 않고 대신 undefined 값으로 나옴
            // Duck이 생성자만 갖다 쓰고 별도로 전역변수로 객체를 만들어준 것 -> 68라인으로 출력 가능 (저장되는 위치가 다름)
            var duck2 = Duck("Donald", "Trump");
            console.log(duck2);


            // 이걸로 출력하면 에러발생
            // area2.innerHTML += "두번째 오리의 full name은 " + duck2.firstName + duck2.lastName + "입니다. 꽥꽥!";
          
            // new를 사용하지 않고 생성자를 통해 객체를 만들면 전역변수가 됨
            area2.innerHTML += "두번째 오리의 full name은 " + window.firstName + this.lastName + "입니다. 꽥꽥!";
            // this.는 객체 자기 자신을 가리킴 -> window.(전역변수이므로 최상위 객체)를 가리킴
            // test2()는 객체가 아닌 구역이므로 this.가 window.임

        }
    </script>
    
</body>
</html>