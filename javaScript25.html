<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>객체</title>
    <style>
        .area-big {
            height: 400px;
            background: lightgreen; 
            /* background는 속성에 lightgreen을 넣는 거고
            background color는 배경 '색깔'에 lightgreen을 넣겠다 */
            border: 1px solid slateblue;
        }

        .area {
            background : lightgreen;
            border: 1px solid slateblue;
            height: 200px;
        }
    </style>
</head>
<body>
    <h1>객체</h1>
    <h3>객체의 선언 및 호출</h3>
    <p>객체는 키값을 사용하여 속성을 식별함.<br>
        중괄호{}를 사용해서 객체를 생성하고, 속성에는 모든 자료형이 올 수 있다.
    </p>
    <button onclick="test1();">실행확인</button>
    <div id="area1" class="area-big"></div>
    <script>
        function test1(){
            var product = {
                    pName: 'Dry Mango',
                    type: 'Pickle',
                    ingredient:['mango','sugar'],
                    origin: 'Philipines'
            };
            console.log(product);

            var area1 = document.getElementById("area1");
            area1.innerHTML += "product : " + product + "<br><br>";

            area1.innerHTML += "<b>객체명['속성명']으로 접근하기</b><br>";
            area1.innerHTML += "product['pName'] : " + product['pName'] + "<br>";
            area1.innerHTML += "product['type'] : " + product['type'] + "<br>";
            area1.innerHTML += "product['ingredient'] : " + product['ingredient'] + "<br>";
            area1.innerHTML += "product['ingredient'][0] : " + product['ingredient'][0] + "<br>";
            area1.innerHTML += "product['ingredient'][1] : " + product['ingredient'][1] + "<br>";
            area1.innerHTML += "product['origin'] : " + product['origin'] + "<br>";

            area1.innerHTML += "<b>객체명, 속성명으로 접근하기</b><br>";
            area1.innerHTML += "product.pName : " + product.pName + "<br>";
            area1.innerHTML += "product.type : " + product.type + "<br>";
            area1.innerHTML += "product.ingredient : " + product.ingredient + "<br>";

            area1.innerHTML += "product.ingredient[0] : " + product.ingredient[0] + "<br>";
            area1.innerHTML += "product.ingredient[1] : " + product.ingredient[1] + "<br>";
            area1.innerHTML += "product['origin'] : " + product.origin + "<br>";
            // 이 객체가 가진 이 속성의 0번째 위치의 값을 .을 통해 가지고 오겠다는 것

        }
    </script>

    <hr>

    <h3>객체의 키 식별자 테스트</h3>
    <button onclick="test2();">실행확인</button>
    <div id="area2" class="area"></div>
    <script>
        function test2(){
            var objTest = {
                'Today is' : '내 생일',
                'Tomorrow is !@#$%^&()' : '보강'
            };
            var area2 = document.getElementById("area2");
            console.log(objTest);

            // 공백이나 특수문자가 key 값인 경우에는 value를 이 방식으론 가져올 수 없음
            // area2.innerHTML += "I Love : " + objTest.'Today is' + "<br>";
            // area2.innerHTML += "I Love : " + objTest.'Tomorrow is !@#$%^&()' + "<br>";
        
            area2.innerHTML += "Today is : " + objTest['Today is'] + "<br>";
            area2.innerHTML += "Tomorrow is !@#$%^&() : " + objTest['Tomorrow is !@#$%^&()'] + "<br>";
        }
    </script>

    <hr>
    <h3>객체의 메소드 속성</h3>
    <p>객체의 속성 중 함수 자료형인 속성을 메소드라고 부른다.</p>
    <button onclick="test3();">실행확인</button>
    <div id="area3" class="area"></div>
    <script>
        function test3(){
            var area3 = document.getElementById("area3");

            var dog = {
                name : '뎅이',
                eat : function(food){
                    // "객체 내"에서 자신의 속성을 호출할 때는 반드시 "this"를 사용해야 함
                    area3.innerHTML += this.name + '가 ' + food + '을(를) 먹고 있네요! 왈왈!';
                    // 현재 들어와 있는 dog 객체 안의 지역변수를 가져오려면 this.를 붙여야
                    // this.가 파랑색인데, 파랑색은 지역변수임
                }
            }
            dog.eat('밥');
        }

    </script>

    <hr>

    <h3>객체와 반복문</h3>
    <button onclick="test4();">실행확인</button>
    <p>객체의 속성을 살펴볼 때는 단순 for문으로 사용 불가하고 
        for in문(요소가 가진 속성을 반복해서 가져옴)을 사용해야 함</p>
    <div id="area4" class="area"></div>
    <script>
        function test4(){

            var game = {
                     title : "DIABLO 3",
                     price : '35,000원',
                     language : '한국어지원',
                     support05 : 'window 32/64',
                     service : true
            };
            
            var area4 = document.getElementById("area4");

            console.log(game);

            for(var key in game){
                area4.innerHTML += key + " : " + game[key] + "<br>";
            }
            //객체 부분에선 for of를 사용
        }
    </script>

    <hr>

    <h3>in과 with키워드</h3>
    <p>
        in : 객체 내부에 해당 속성이 있는지 확인하는 키워드(true / false)<br>
        with : 코드를 줄여주는 키워드, 호출 시 객체명 생략이 가능
    </p>
    <label>이름 : </label>
    <input type="text" id="name"><br>
    <label>국어 : </label>
    <input type="text" id="kor"><br>
    <label>영어 : </label>
    <input type="text" id="eng"><br>
    <label>수학 : </label>
    <input type="text" id="math"><br>
    <button onclick="test5();">실행확인</button>
    <div id="area5" class="area-big"></div>
    <script>
        function test5(){
            // 위의 태그에서 각각의 값을 담을 수 있게 코드를 작성하시오
            // 단 kor, eng, math는 입력된 숫자까지는 표현할 수 있도록 함수를 활용해서 값을 가져오세요
            var name = document.getElementById("name").value;
            var kor = parseInt(document.getElementById("kor").value);
            var eng = parseInt(document.getElementById("eng").value);
            var math = parseInt(document.getElementById("eng").value);

            var student = {
                name : name,
                kor : kor,
                eng : eng,
                math : math
                // 키값, value값 160의 값들이 166의 값으로 들어옴
            }
            console.log(student);
            // 확인

            area5.innerHTML += "<b> in 키워드 테스트 </b><br>";

            area5.innerHTML += "student객체에 name이라는 속성이 있는지 확인 : " + ('name' in student) + "<br>";
            area5.innerHTML += "student객체에 kor이라는 속성이 있는지 확인 : " + ('kor' in student) + "<br>";
            area5.innerHTML += "student객체에 eng이라는 속성이 있는지 확인 : " + ('eng' in student) + "<br>";
            area5.innerHTML += "student객체에 math이라는 속성이 있는지 확인 : " + ('math' in student) + "<br>";
            area5.innerHTML += "student객체에 sum이라는 속성이 있는지 확인 : " + ('sum' in student) + "<br>";
            // in은 값을 찾는 게 아니라 "속성"을 찾는 것
            // area5 학생이름 , 국어점수, 영어점수, 수학점수, 총점, 평균

            area5.innerHTML += "학생이름 : " + student['name'] + "<br>";
            area5.innerHTML += "국어점수 : " + student['kor'] + "<br>";
            area5.innerHTML += "영어점수 : " + student['eng'] + "<br>";
            area5.innerHTML += "수학점수 : " + student['math'] + "<br>";
            area5.innerHTML += "총점 : " + (student['kor'] + student['eng'] + student['math']) + "<br>";
            area5.innerHTML += "평균 : " + (student['kor'] + student['eng'] + student['math'])/3 + "<br>";
            // student.name 이라고 써줘도 ok

            //사용하려고 하는 객체를 student로 묶어줌
            with(student){
                area5.innerHTML += "학생이름 : " + name + "<br>";
                area5.innerHTML += "국어점수 : " + kor + "<br>";
                area5.innerHTML += "영어점수 : " + eng + "<br>";
                area5.innerHTML += "수학점수 : " + math + "<br>";
                area5.innerHTML += "총점 : " + (kor + eng + math) + "<br>";
                area5.innerHTML += "평균 : " + (kor + eng + math)/3 + "<br>";
            }


        }

    </script>

</body>
</html>